<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>demo10</title>
    <script type="text/javascript" src="d3.js"></script>
    <style type="text/css"></style>
  </head>
  <body>
    <script>
      const svg = d3
        .select("body")
        .append("svg")
        .attr("width", 600)
        .attr("height", 600);

      var dataset = [10, 20, 30];
      var g = svg.append("g");

      const scaleX = d3
        .scaleLinear()
        .domain([0, dataset.length])
        .range([0, 250]);
      const scaleY = d3
        .scaleLinear()
        .domain([d3.max(dataset),0])
        .range([250, 0]);

      const axisX = d3.axisBottom(scaleX).ticks(5);
      //const axisY = d3.axisTop(scaleY);
      const axisY = d3.axisLeft(scaleY).ticks(5);
      //const axis4 = d3.axisRight(scale);

      svg.append("g").attr("transform", "translate(400,350)").call(axisX);
      svg.append("g").attr("transform", "translate(400,100)").call(axisY);
      //svg.append("g").attr("transform", "translate(350,50)").call(axis3);
      //svg.append("g").attr("transform", "translate(400,50)").call(axis4); */
      g.selectAll("rect")
        .data(dataset)
        .enter()
        .append("rect")
        .attr("x", function (d, i) {
          //设置左上点的y
          return 400+scaleX(i)-10;
        }) //设置左上点的x
        .attr("y", function (d) {
          return 350-scaleY(d);
        })
        
        //
        .attr("width", function (d) {
          //设置宽
          return 20;
        })
        .attr("height", function (d) {
          //设置宽
          return scaleY(d);
        }) //设置长
        .attr("fill", "steelblue"); //颜色填充
    </script>
  </body>
</html>
